<script>
x = 0;
$(document).ready(function(){
    
        /** This is high-level function.
           * It must react to delta being more/less than zero.
           */
        function handle(delta) {
          if (delta < 0)
            $("span").text( x+= 0.5); // assuming scroll 2 lines at a time
          else
            $("span").text( x-= 0.5);
        }

        /** Event handler for mouse wheel event.
         */
        function wheel(event){
                var delta = 0;
                if (!event) /* For IE. */
                        event = window.event;
                if (event.wheelDelta) { /* IE/Opera. */
                        delta = event.wheelDelta/120;
                } else if (event.detail) { /** Mozilla case. */
                        /** In Mozilla, sign of delta is different than in IE.
                         * Also, delta is multiple of 3.
                         */
                        delta = -event.detail/3;
                }
                /** If delta is nonzero, handle it.
                 * Basically, delta is now positive if wheel was scrolled up,
                 * and negative, if wheel was scrolled down.
                 */
                if (delta)
                        handle(delta);
                /** Prevent default actions caused by mouse wheel.
                 * That might be ugly, but we handle scrolls somehow
                 * anyway, so don't bother here..
                 */
                if (event.preventDefault)
                        event.preventDefault();
            event.returnValue = false;
        }

        /** Initialization code.
         * If you use your own event management code, change it as required.
         */
        if (window.addEventListener)
                /** DOMMouseScroll is for mozilla. */
                window.addEventListener('DOMMouseScroll', wheel, false);
        /** IE/Opera. */
        window.onmousewheel = document.onmousewheel = wheel;

});
</script>

<p>Scrolled <span>0</span> times.</p>
<canvas id="myCanvas" width="578" height="200"></canvas>
<script>
  var canvas = document.getElementById('myCanvas');
  var rectWidth = 10;
  var rectHeight = 100;
  function draw() {
    var context = canvas.getContext('2d');
    canvas.width = canvas.width;
    // translate context to center of canvas
    context.translate(canvas.width / 2, canvas.height / 2);

    context.rotate(x*Math.PI/180);

    context.fillStyle = 'black';
    context.fillRect(rectWidth / -2, rectHeight / -2, rectWidth, rectHeight);

    window.requestAnimationFrame(draw);
  }
  draw();
</script>
  <button type="button" id="done">Done</button>